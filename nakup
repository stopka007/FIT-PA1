#include <stdio.h>
#include <stdlib.h>
#include <string.h>
#include <ctype.h>

int main (void) {
    char string[10000];
    char seznam[100][10000];
    char podminka1[1][10] = {"#0\n"};
    char slovo[10000];
    int n = 0;
    int i = 0;
    char hashtag = '#';
    int regal_podminka = '0';
    int podminka_white_space = 0;
    char regaly [100][10000];
    char nakupni_list[100][10000];
    while (fgets(string, sizeof string, stdin) != NULL) {
        strcpy(slovo, string);
        while (slovo[i] != EOF){
            slovo[i] = tolower(slovo[i]);
            i++;
        }
        strcpy(seznam[n], slovo);
        if (*slovo == '\n') {
            podminka_white_space += 1;
        } 
        if (strcmp(seznam[0],*podminka1) != 0) { // pokud prvni radek neni #0
            printf("Nespravny vstup.\n");
            return 0;
        }
        while (slovo[i] != '\n'){ // zkouska aby regaly byly vzestupne
            if (slovo[i] == hashtag && slovo[i+1] == regal_podminka){ 
                regal_podminka += 1;
            }
            else if (slovo[i] == hashtag && slovo[i+1] != regal_podminka){ 
                printf("Nespravny vstup.\n");
                return 0;
            }
            i += 1;
        }
        n+=1;
        i=0;
    }
    if (podminka_white_space == 0) {
        printf("Nespravny vstup.\n");
        return 0;
    }
    for (int i=0; i<n; i++){
        if (*seznam[i] != '\n'){
            strcpy(regaly[i], seznam[i]);
            printf("regaly = %s", regaly[i]);
        }
        else {
            break;
        }
    }
    for (int i=0; i<n; i++){
        if (*seznam[i] != '\n'){
            continue;;
        }
        else {
            for (int k = i+1; k<n; k++){
                if (*seznam[k] != '\n'){
                    strcpy(nakupni_list[k], seznam[k]);
                    printf("list = %s",nakupni_list[k]);
                }
                else {
                    strcpy(nakupni_list[k], seznam[k]);
                    printf("list = %s",nakupni_list[k]);
                    break;
                }
            }
        }
    }
    //for (int i = 0; i<n; i++){
    //    for(int k = 0; k<n; k++){
    //        if (strcmp(regaly[i], nakupni_list[k]) == 0 && *nakupni_list[i] != '\n'){
    //            printf("Regaly %s a list %s jsou stejny\n", regaly[i], nakupni_list[k]);
    //        }
    //    }
    //}
    //for (int i = 0; i < n; i++){
    //    printf("na pozici %d je %s\n", i, seznam[i]);
    //}
    return 0;
}
